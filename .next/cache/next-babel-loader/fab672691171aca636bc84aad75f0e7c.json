{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useCurrentUser } from '../../lib/hooks';\nexport default function PostEditor() {\n  const [user] = useCurrentUser();\n  const {\n    0: msg,\n    1: setMsg\n  } = useState(null);\n\n  if (!user) {\n    return __jsx(\"div\", {\n      style: {\n        color: '#555',\n        textAlign: 'center'\n      }\n    }, \"Please sign in to post\");\n  }\n\n  async function hanldeSubmit(e) {\n    e.preventDefault();\n    const body = {\n      content: e.currentTarget.content.value\n    };\n    if (!e.currentTarget.content.value) return;\n    e.currentTarget.content.value = '';\n    const res = await fetch('/api/posts', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n\n    if (res.ok) {\n      setMsg('Posted!');\n      setTimeout(() => setMsg(null), 5000);\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"p\", {\n    style: {\n      color: '#0070f3',\n      textAlign: 'center'\n    }\n  }, msg), __jsx(\"form\", {\n    onSubmit: hanldeSubmit,\n    style: {\n      flexDirection: 'row'\n    },\n    autoComplete: \"off\"\n  }, __jsx(\"label\", {\n    htmlFor: \"name\"\n  }, __jsx(\"input\", {\n    name: \"content\",\n    type: \"text\",\n    placeholder: \"Say something, I'm giving up on you...\"\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    style: {\n      marginLeft: '0.5rem'\n    }\n  }, \"Post\")));\n}","map":null,"metadata":{},"sourceType":"module"}