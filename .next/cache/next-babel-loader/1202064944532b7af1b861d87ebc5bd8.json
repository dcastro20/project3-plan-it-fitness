{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Error from 'next/error';\nimport middleware from '../../../middlewares/middleware';\nimport { useCurrentUser } from '../../../lib/hooks';\nimport Posts from '../../../components/post/posts';\nimport { getUser } from '../../../lib/db';\nexport default function UserPage({\n  user\n}) {\n  if (!user) return __jsx(Error, {\n    statusCode: 404\n  });\n  const {\n    name,\n    email,\n    bio,\n    profilePicture\n  } = user || {};\n  const [currentUser] = useCurrentUser();\n  const isCurrentUser = (currentUser === null || currentUser === void 0 ? void 0 : currentUser._id) === user._id;\n  return __jsx(React.Fragment, null, __jsx(_JSXStyle, {\n    id: \"2160564822\"\n  }, [\"h2.jsx-2160564822{text-align:left;margin-right:0.5rem;}\", \"button.jsx-2160564822{margin:0 0.25rem;}\", \"img.jsx-2160564822{width:10rem;height:auto;border-radius:50%;box-shadow:rgba(0,0,0,0.05) 0 10px 20px 1px;margin-right:1.5rem;background-color:#f3f3f3;}\", \"div.jsx-2160564822{color:#777;}\", \"p.jsx-2160564822{font-family:monospace;color:#444;margin:0.25rem 0 0.75rem;}\", \"a.jsx-2160564822{margin-left:0.25rem;}\"]), __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-2160564822\"\n  }, name)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    className: \"jsx-2160564822\"\n  }, __jsx(\"img\", {\n    src: profilePicture,\n    width: \"256\",\n    height: \"256\",\n    alt: name,\n    className: \"jsx-2160564822\"\n  }), __jsx(\"section\", {\n    className: \"jsx-2160564822\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2160564822\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-2160564822\"\n  }, name), isCurrentUser && __jsx(Link, {\n    href: \"/settings\"\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"jsx-2160564822\"\n  }, \"Edit\"))), \"Bio\", __jsx(\"p\", {\n    className: \"jsx-2160564822\"\n  }, bio), \"Email\", __jsx(\"p\", {\n    className: \"jsx-2160564822\"\n  }, email))), __jsx(\"div\", {\n    className: \"jsx-2160564822\"\n  }, __jsx(\"h3\", {\n    className: \"jsx-2160564822\"\n  }, \"My posts\"), __jsx(Posts, {\n    creatorId: user._id\n  })));\n}\nexport async function getServerSideProps(context) {\n  await middleware.apply(context.req, context.res);\n  const user = await getUser(context.req, context.params.userId);\n  if (!user) context.res.statusCode = 404;\n  return {\n    props: {\n      user\n    } // will be passed to the page component as props\n\n  };\n}","map":null,"metadata":{},"sourceType":"module"}